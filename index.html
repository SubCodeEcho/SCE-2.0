<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ClientSide AI v2</title>

  <link rel="stylesheet" href="/CSSs/style.css">

  <!-- Compression lib -->
  <script src="https://cdn.jsdelivr.net/npm/pako@2.1.0/dist/pako.min.js"></script>
</head>
<body>

  <div class="app">
    <header>ğŸ§  Client-Side AI</header>

    <div id="chat"></div>

    <div class="input-box">
      <input id="userInput" placeholder="Talk to the AI..." />
      <button id="sendBtn">Send</button>
    </div>
  </div>

  <!-- Core engine -->
  <script src="/JSs/ai-engine-v2.js"></script>

  <script>
    const chat = document.getElementById("chat");
    const input = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");

    function addMessage(role, text) {
      const div = document.createElement("div");
      div.className = "msg " + role;
      div.textContent = text;
      chat.appendChild(div);
      chat.scrollTop = chat.scrollHeight;
    }

    sendBtn.onclick = async () => {
      const text = input.value.trim();
      if (!text) return;

      input.value = "";
      addMessage("user", text);

      await aiEngine.addMessage("user", text);
      const result = await aiEngine.processInput(text);

      addMessage("ai", result.response);
      await aiEngine.addMessage("assistant", result.response);
    };

    input.addEventListener("keydown", e => {
      if (e.key === "Enter") sendBtn.click();
    });
  </script>
</body>
</html>